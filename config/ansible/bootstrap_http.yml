- name: Bootstrap Nginx landing page
  hosts: web
  become: true
  tasks:
    - name: Ensure Nginx is installed
      ansible.builtin.package:
        name: nginx
        state: present

    - name: Enable and start Nginx
      ansible.builtin.service:
        name: nginx
        state: started
        enabled: yes

    - name: Put simple landing page
      ansible.builtin.copy:
        dest: /usr/share/nginx/html/index.html
        mode: '0644'
        content: |
          <!doctype html>
          <html>
          <head><meta charset="utf-8"><title>SamX | It works</title></head>
          <body style="font-family:system-ui;padding:40px">
            <h1>ðŸš€ Deployed via Ansible</h1>
            <p>Server: {{ ansible_facts['hostname'] }}</p>
            <p>Time: {{ ansible_date_time.iso8601 }}</p>
          </body>
          </html>
